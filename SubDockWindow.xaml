<Window x:Class="NexusDock.SubDockWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:NexusDock"
        Title="SubDock" 
        Height="300" 
        Width="300"
        SizeToContent="Manual" 
        WindowStartupLocation="Manual"
        WindowStyle="None" 
        AllowsTransparency="True" 
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        Loaded="Window_Loaded"
        Deactivated="Window_Deactivated"
        Opacity="0">

    <Window.Resources>
        <!-- Style (bez zmian) -->
        <Style TargetType="ContextMenu">
            <Setter Property="Background" Value="#1E1E1E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#444"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ContextMenu">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="5" Padding="5">
                            <StackPanel IsItemsHost="True"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="MenuItem">
            <Setter Property="Header" Value="{Binding Header}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="MenuItem">
                        <Grid>
                            <Border x:Name="Border" Background="Transparent" Padding="{TemplateBinding Padding}" CornerRadius="3">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="20"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Path x:Name="CheckMark" Data="M 2,5 L 5,8 L 12,1" Stroke="White" StrokeThickness="2" Visibility="Collapsed" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                    <ContentPresenter Grid.Column="1" Content="{TemplateBinding Header}" VerticalAlignment="Center"/>
                                    <Path x:Name="Arrow" Grid.Column="2" Data="M 0,0 L 4,3.5 L 0,7" Stroke="#E0E0E0" StrokeThickness="1" Margin="10,0,0,0" VerticalAlignment="Center" Visibility="Collapsed"/>
                                </Grid>
                            </Border>
                            <Popup x:Name="Popup" Placement="Right" IsOpen="{TemplateBinding IsSubmenuOpen}" AllowsTransparency="True" Focusable="False" PopupAnimation="Fade">
                                <Border Background="#1E1E1E" BorderBrush="#444" BorderThickness="1" CornerRadius="5" Padding="5">
                                    <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle"/>
                                </Border>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#3E3E3E"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                            </Trigger>
                            <Trigger Property="Role" Value="SubmenuHeader">
                                <Setter TargetName="Arrow" Property="Visibility" Value="Visible"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ScrollBar">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid x:Name="GridRoot" Width="5" Background="Transparent">
                            <Track Name="PART_Track" IsDirectionReversed="true" Focusable="False">
                                <Track.Thumb>
                                    <Thumb Focusable="False">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Border Background="#555" CornerRadius="2.5"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="Orientation" Value="Horizontal">
                                <Setter TargetName="GridRoot" Property="Width" Value="Auto"/>
                                <Setter TargetName="GridRoot" Property="Height" Value="5"/>
                                <Setter TargetName="PART_Track" Property="IsDirectionReversed" Value="False"/>
                                <Setter Property="Height" Value="5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SubAppButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="Bd" 
                                Background="{TemplateBinding Background}" 
                                CornerRadius="6" 
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#20FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <DataTemplate x:Key="GridViewTemplate">
            <Button Style="{StaticResource SubAppButtonStyle}"
                    Click="SubAppButton_Click"
                    PreviewMouseLeftButtonDown="SubAppButton_PreviewMouseLeftButtonDown"
                    PreviewMouseMove="SubAppButton_PreviewMouseMove"
                    DragOver="SubAppButton_DragOver"
                    Drop="SubAppButton_Drop"
                    AllowDrop="True"
                    Margin="5"
                    ToolTipService.InitialShowDelay="50"
                    ToolTipService.ShowDuration="10000">
                <Button.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Uruchom" Click="SubAppButton_Click"/>
                        <MenuItem Header="Uruchom jako Administrator" Click="RunAsAdmin_Click"/>
                        <Separator Background="#444" Margin="0,5"/>
                        <MenuItem Header="Otwórz lokalizację pliku" Click="OpenFileLocation_Click"/>
                        <MenuItem Header="Edytuj ścieżkę / argumenty..." Click="EditShortcutPath_Click"/>
                        <MenuItem Header="Utwórz skrót na pulpicie" Click="CreateDesktopShortcut_Click"/>
                        <Separator Background="#444" Margin="0,5"/>
                        <MenuItem Header="Zmień nazwę..." Click="RenameSubShortcut_Click"/>
                        <MenuItem Header="Zmień ikonę..." Click="ChangeSubIcon_Click"/>
                        <MenuItem Header="Usuń" Click="DeleteSubShortcut_Click"/>
                        <Separator Background="#444" Margin="0,5"/>
                        <MenuItem Header="Właściwości" Click="ShowNativeProperties_Click"/>
                    </ContextMenu>
                </Button.ContextMenu>
                <Button.ToolTip>
                    <ToolTip Content="{Binding Name}" 
                             Background="#333" 
                             Foreground="White" 
                             BorderBrush="#555"
                             FontSize="{Binding DataContext.SubIconFontSize, RelativeSource={RelativeSource AncestorType=Window}}"/>
                </Button.ToolTip>
                <StackPanel>
                    <Image Source="{Binding IconPath, IsAsync=True}" 
                           Width="{Binding DataContext.SubIconSize, RelativeSource={RelativeSource AncestorType=Window}}" 
                           Height="{Binding DataContext.SubIconSize, RelativeSource={RelativeSource AncestorType=Window}}"
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                </StackPanel>
            </Button>
        </DataTemplate>

        <DataTemplate x:Key="ListViewTemplate">
            <Button Style="{StaticResource SubAppButtonStyle}"
                    Click="SubAppButton_Click"
                    PreviewMouseLeftButtonDown="SubAppButton_PreviewMouseLeftButtonDown"
                    PreviewMouseMove="SubAppButton_PreviewMouseMove"
                    DragOver="SubAppButton_DragOver"
                    Drop="SubAppButton_Drop"
                    AllowDrop="True"
                    Width="{Binding DataContext.SubDockListWidth, RelativeSource={RelativeSource AncestorType=Window}}"
                    Margin="2,1"
                    HorizontalContentAlignment="Stretch" 
                    ToolTipService.InitialShowDelay="50"
                    ToolTipService.ShowDuration="10000">

                <Button.ToolTip>
                    <ToolTip Content="{Binding Name}" 
                             Background="#333" 
                             Foreground="White" 
                             BorderBrush="#555"
                             FontSize="{Binding DataContext.SubIconFontSize, RelativeSource={RelativeSource AncestorType=Window}}"/>
                </Button.ToolTip>

                <Button.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Uruchom" Click="SubAppButton_Click"/>
                        <MenuItem Header="Uruchom jako Administrator" Click="RunAsAdmin_Click"/>
                        <Separator Background="#444" Margin="0,5"/>
                        <MenuItem Header="Otwórz lokalizację pliku" Click="OpenFileLocation_Click"/>
                        <MenuItem Header="Edytuj ścieżkę / argumenty..." Click="EditShortcutPath_Click"/>
                        <MenuItem Header="Utwórz skrót na pulpicie" Click="CreateDesktopShortcut_Click"/>
                        <Separator Background="#444" Margin="0,5"/>
                        <MenuItem Header="Zmień nazwę..." Click="RenameSubShortcut_Click"/>
                        <MenuItem Header="Zmień ikonę..." Click="ChangeSubIcon_Click"/>
                        <MenuItem Header="Usuń" Click="DeleteSubShortcut_Click"/>
                        <Separator Background="#444" Margin="0,5"/>
                        <MenuItem Header="Właściwości" Click="ShowNativeProperties_Click"/>
                    </ContextMenu>
                </Button.ContextMenu>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Image Grid.Column="0"
                           Source="{Binding IconPath, IsAsync=True}" 
                           Width="24" 
                           Height="24"
                           Margin="5,2,10,2"
                           RenderOptions.BitmapScalingMode="HighQuality"/>

                    <TextBlock Grid.Column="1"
                               Text="{Binding Name}" 
                               Foreground="White" 
                               VerticalAlignment="Center"
                               HorizontalAlignment="Left"
                               FontSize="{Binding DataContext.SubIconFontSize, RelativeSource={RelativeSource AncestorType=Window}}"
                               TextWrapping="Wrap"
                               MaxHeight="40"
                               TextTrimming="CharacterEllipsis"/>
                </Grid>
            </Button>
        </DataTemplate>
    </Window.Resources>

    <Border x:Name="MainBorder"
            Tag="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
            Background="{Binding SubDockBackgroundBrush, RelativeSource={RelativeSource AncestorType=Window}}"
            CornerRadius="10" 
            Margin="5" 
            Padding="5,5" 
            AllowDrop="True"
            Drop="Window_Drop"
            MouseLeftButtonDown="Window_MouseLeftButtonDown">

        <Border.Effect>
            <DropShadowEffect BlurRadius="15" ShadowDepth="5" Opacity="0.6"/>
        </Border.Effect>

        <Border.ContextMenu>
            <ContextMenu>
                <MenuItem Header="Dodaj skrót do folderu..." Click="AddFolderShortcut_Click"/>
                <Separator Background="#444" Margin="0,5"/>

                <MenuItem Header="Widok">
                    <MenuItem Header="Siatka (Ikony)" Tag="Grid" IsCheckable="True" Click="ChangeView_Click"
                              IsChecked="{Binding PlacementTarget.Tag.GroupData.ViewMode, RelativeSource={RelativeSource AncestorType=ContextMenu}, Converter={x:Static local:EnumBooleanConverter.Instance}, ConverterParameter=Grid}"/>
                    <MenuItem Header="Lista (Szczegóły)" Tag="List" IsCheckable="True" Click="ChangeView_Click"
                              IsChecked="{Binding PlacementTarget.Tag.GroupData.ViewMode, RelativeSource={RelativeSource AncestorType=ContextMenu}, Converter={x:Static local:EnumBooleanConverter.Instance}, ConverterParameter=List}"/>
                </MenuItem>

                <MenuItem Header="Uruchamiaj zawartość przy starcie" 
                          IsCheckable="True"
                          IsChecked="{Binding PlacementTarget.Tag.GroupData.RunContentOnStartup, RelativeSource={RelativeSource AncestorType=ContextMenu}}"
                          Click="ToggleRunContentOnStartup_Click"
                          ToolTip="Jeśli zaznaczone, wszystkie programy z tej grupy uruchomią się automatycznie po starcie paska."/>

                <Separator Background="#444" Margin="0,5"/>

                <MenuItem Header="Kolor tła grupy">
                    <MenuItem Header="Domyślny (Ciemny)" Click="ChangeGroupColor_Click" Tag="Default">
                        <MenuItem.Icon>
                            <Border Width="12" Height="12" CornerRadius="6" Background="#111111" BorderBrush="Gray" BorderThickness="1"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Czarny (Black)" Click="ChangeGroupColor_Click" Tag="#000000">
                        <MenuItem.Icon>
                            <Border Width="12" Height="12" CornerRadius="6" Background="#000000" BorderBrush="Gray" BorderThickness="1"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Niebieski (Blue)" Click="ChangeGroupColor_Click" Tag="#1E90FF">
                        <MenuItem.Icon>
                            <Border Width="12" Height="12" CornerRadius="6" Background="#1E90FF" BorderBrush="White" BorderThickness="1"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Czerwony (Red)" Click="ChangeGroupColor_Click" Tag="#DC143C">
                        <MenuItem.Icon>
                            <Border Width="12" Height="12" CornerRadius="6" Background="#DC143C" BorderBrush="White" BorderThickness="1"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Zielony (Green)" Click="ChangeGroupColor_Click" Tag="#32CD32">
                        <MenuItem.Icon>
                            <Border Width="12" Height="12" CornerRadius="6" Background="#32CD32" BorderBrush="White" BorderThickness="1"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Fioletowy (Purple)" Click="ChangeGroupColor_Click" Tag="#9370DB">
                        <MenuItem.Icon>
                            <Border Width="12" Height="12" CornerRadius="6" Background="#9370DB" BorderBrush="White" BorderThickness="1"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Własny (Hex)..." Click="ChangeGroupColor_Custom_Click"/>

                    <Separator/>

                    <!-- ZMIENIONO TEKST NA 'KRYCIE' -->
                    <MenuItem StaysOpenOnClick="True">
                        <MenuItem.Header>
                            <StackPanel Width="220">
                                <TextBlock Text="{Binding PlacementTarget.Tag.GroupData.GroupAlpha, RelativeSource={RelativeSource AncestorType=ContextMenu}, StringFormat='Krycie: {0:P0}'}" Margin="0,0,0,5" FontWeight="SemiBold"/>
                                <Slider Minimum="0.05" Maximum="1.0" 
                                        Value="{Binding PlacementTarget.Tag.GroupData.GroupAlpha, RelativeSource={RelativeSource AncestorType=ContextMenu}, Mode=TwoWay}" 
                                        SmallChange="0.05" LargeChange="0.1"/>
                            </StackPanel>
                        </MenuItem.Header>
                    </MenuItem>
                </MenuItem>

                <MenuItem StaysOpenOnClick="True">
                    <MenuItem.Header>
                        <StackPanel Width="220">
                            <TextBlock Text="{Binding PlacementTarget.DataContext.SubIconFontSize, RelativeSource={RelativeSource AncestorType=ContextMenu}, StringFormat='Rozmiar tekstu: {0:0} pt'}" Margin="0,0,0,5" FontWeight="SemiBold"/>
                            <Slider Minimum="10" Maximum="24" Value="{Binding PlacementTarget.DataContext.SubIconFontSize, RelativeSource={RelativeSource AncestorType=ContextMenu}, Mode=TwoWay}" TickFrequency="1" IsSnapToTickEnabled="True"/>
                        </StackPanel>
                    </MenuItem.Header>
                </MenuItem>

                <Separator Background="#444" Margin="0,5"/>
                <MenuItem Header="Zamknij grupę" Click="CloseGroup_Click"/>
            </ContextMenu>
        </Border.ContextMenu>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0"
                    Width="40" Height="4"
                    Background="White"
                    CornerRadius="2"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    Opacity="0.4"
                    Margin="0,2,0,0">
                <Border.Effect>
                    <DropShadowEffect Color="White" BlurRadius="6" ShadowDepth="0" Opacity="0.6"/>
                </Border.Effect>
            </Border>

            <TextBlock Text="{Binding GroupData.Name, RelativeSource={RelativeSource AncestorType=Window}}"
                       Grid.Row="0"
                       Foreground="White"
                       FontSize="14"
                       FontWeight="SemiBold"
                       HorizontalAlignment="Center"
                       Margin="0,12,0,8" 
                       TextTrimming="CharacterEllipsis">
                <TextBlock.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="4" ShadowDepth="2" Opacity="0.8"/>
                </TextBlock.Effect>
            </TextBlock>

            <StackPanel Grid.Row="0" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        VerticalAlignment="Top" 
                        Margin="0,8,8,0">

                <Button Click="ToggleAutoOpen_Click" 
                        Cursor="Hand" 
                        ToolTip="Autostart grupy przy uruchomieniu programu"
                        Margin="0,0,6,0">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Transparent" Width="14" Height="14">
                                <Ellipse x:Name="Dot" 
                                         Width="10" Height="10" 
                                         HorizontalAlignment="Center" 
                                         VerticalAlignment="Center"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <DataTrigger Binding="{Binding GroupData.AutoOpen, RelativeSource={RelativeSource AncestorType=Window}}" Value="False">
                                    <Setter TargetName="Dot" Property="Fill" Value="#40FFFFFF"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding GroupData.AutoOpen, RelativeSource={RelativeSource AncestorType=Window}}" Value="True">
                                    <Setter TargetName="Dot" Property="Fill" Value="#32CD32"/>
                                </DataTrigger>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Dot" Property="Width" Value="12"/>
                                    <Setter TargetName="Dot" Property="Height" Value="12"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button Click="ToggleTopmost_Click" 
                        Cursor="Hand" 
                        ToolTip="Przełącz: Zawsze na wierzchu"
                        Margin="0,0,6,0">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Transparent" Width="14" Height="14">
                                <Ellipse x:Name="Dot" 
                                         Fill="#40FFFFFF" 
                                         Width="10" Height="10" 
                                         HorizontalAlignment="Center" 
                                         VerticalAlignment="Center"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Dot" Property="Fill" Value="#FFC107"/>
                                    <Setter TargetName="Dot" Property="Width" Value="12"/>
                                    <Setter TargetName="Dot" Property="Height" Value="12"/>
                                </Trigger>
                                <DataTrigger Binding="{Binding Topmost, RelativeSource={RelativeSource AncestorType=Window}}" Value="True">
                                    <Setter TargetName="Dot" Property="Fill" Value="#FFC107"/>
                                </DataTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <Button Click="CloseGroup_Click"
                        Cursor="Hand"
                        ToolTip="Zamknij">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Transparent" Width="14" Height="14">
                                <Ellipse x:Name="Dot" 
                                         Fill="#FF5F56" 
                                         Width="10" Height="10" 
                                         HorizontalAlignment="Center" 
                                         VerticalAlignment="Center"/>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Dot" Property="Fill" Value="#FF5F56"/>
                                    <Setter TargetName="Dot" Property="Width" Value="12"/>
                                    <Setter TargetName="Dot" Property="Height" Value="12"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

            </StackPanel>

            <ScrollViewer Grid.Row="1" 
                          VerticalScrollBarVisibility="Disabled" 
                          HorizontalScrollBarVisibility="Auto"
                          PanningMode="HorizontalOnly"
                          Margin="0,5,0,0"
                          PreviewMouseWheel="ScrollViewer_PreviewMouseWheel">

                <ItemsControl x:Name="SubItemsControl">
                    <ItemsControl.Style>
                        <Style TargetType="ItemsControl">
                            <Setter Property="ItemsPanel">
                                <Setter.Value>
                                    <ItemsPanelTemplate>
                                        <WrapPanel Orientation="Vertical" Height="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=ScrollViewer}}"/>
                                    </ItemsPanelTemplate>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="ItemTemplate" Value="{StaticResource GridViewTemplate}"/>

                            <Style.Triggers>
                                <DataTrigger Binding="{Binding GroupData.ViewMode, RelativeSource={RelativeSource AncestorType=Window}}" Value="List">
                                    <Setter Property="ItemTemplate" Value="{StaticResource ListViewTemplate}"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ItemsControl.Style>
                </ItemsControl>
            </ScrollViewer>

            <Thumb Grid.Row="1"
                   HorizontalAlignment="Right"
                   VerticalAlignment="Bottom"
                   Width="15" Height="15"
                   Margin="0,0,2,2"
                   DragDelta="ResizeGrip_DragDelta"
                   Cursor="SizeNWSE">
                <Thumb.Template>
                    <ControlTemplate>
                        <Grid Background="Transparent">
                            <Path Data="M 10,10 L 10,0 L 0,10 Z" Fill="#88FFFFFF" HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
                        </Grid>
                    </ControlTemplate>
                </Thumb.Template>
            </Thumb>
        </Grid>
    </Border>
</Window>